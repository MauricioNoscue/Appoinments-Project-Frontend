<!-- registrar-rol.component.html -->
<div class="modal-overlay">
  <div class="modal-container">
    <div class="modal-header">
      <h2 class="modal-title">Registrar Rol</h2>
      <div class="icon-container">
        <svg viewBox="0 0 24 24" class="role-icon">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
        </svg>
        <svg viewBox="0 0 24 24" class="link-icon">
          <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
        </svg>
      </div>
    </div>

    <form [formGroup]="rolForm" (ngSubmit)="onSubmit()" class="role-form">
      <!-- Nombre del rol -->
      <div class="form-group">
        <label for="nombre" class="form-label">Nombre del rol</label>
        <input
          type="text"
          id="nombre"
          formControlName="nombre"
          class="form-input"
          [class.error]="getFieldError('nombre')"
          placeholder="Ingresa el nombre del rol"
        >
        <div class="error-message" *ngIf="getFieldError('nombre')">
          {{ getFieldError('nombre') }}
        </div>
      </div>

      <!-- Permisos -->
      <div class="form-group">
        <label class="form-label">A침adir permisos (Opcional)</label>
        <div class="permissions-container">
          <div class="permission-item" *ngFor="let permiso of permisosList">
            <label class="permission-label">
              <input
                type="checkbox"
                [checked]="isPermisoSelected(permiso)"
                (change)="onPermisoChange(permiso, $event)"
                class="permission-checkbox"
              >
              <span class="permission-text">{{ permiso }}</span>
            </label>
          </div>
        </div>
      </div>

      <!-- Descripci칩n -->
      <div class="form-group">
        <label for="descripcion" class="form-label">Descripci칩n</label>
        <textarea
          id="descripcion"
          formControlName="descripcion"
          class="form-textarea"
          [class.error]="getFieldError('descripcion')"
          placeholder="Describe las responsabilidades y alcance de este rol..."
          rows="6"
        ></textarea>
        <div class="error-message" *ngIf="getFieldError('descripcion')">
          {{ getFieldError('descripcion') }}
        </div>
      </div>

      <!-- Bot칩n de registro -->
      <button
        type="submit"
        class="register-button"
        [disabled]="rolForm.invalid"
      >
        Registrar
      </button>
    </form>
  </div>
</div>